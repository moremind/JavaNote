## Java并发理论

* 同步实现
  * 自旋锁
  * 读-写锁
* 同步实现
  * 信号量（Semaphore)
  * 屏障（Barriers)
  * 互斥（Mutex）
  * 条件变量(Condition Variables)

![image-20210326074620471](https://gitee.com/forge-logic/images-lib/raw/master/img/image-20210326074620471.png)

![image-20210326074859326](https://gitee.com/forge-logic/images-lib/raw/master/img/image-20210326074859326.png)

```java
    private static void changeValue(int val) {
        // 线程私有对象，尽管他也在堆里面
        // 栈保存 value 名称，data 变量名称
        // escape
        // 堆共享（被其他线程可见）是线程不安全的，保存内存
        // 当线程不加以控制数量，容易导致 JVM OOM
        Data data = new Data();
        data.setValue(val);
    }

    private static class Data {
        /**
         * 线程不安全
         */
        private volatile int value;

        public int getValue() {
            return value;
        }

        public void setValue(int value) {
            this.value = value;
        }
    }
```



## Java同步原语

* 同步原语-Synchronized
  * 锁定对象：对量(Object) 和类(Class)
  * 修饰范围：方法(Method)/代码块(Block)
  * 特点：重进入

## Java线程Liveness



## Java并发经典模型



